<div class="relative w-full">
  
  <div class="relative flex items-center bg-gray-700 rounded-xl shadow-lg border border-gray-600 focus-within:border-blue-500 transition-all duration-200">
    
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400 ml-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
    </svg>

    <input 
      type="text"
      placeholder="Search users or classes..."
      class="w-full py-3 pr-4 text-gray-100 bg-gray-700 placeholder-gray-400 focus:outline-none rounded-r-xl"
      (input)="handleSearchInput($event)"
      aria-label="Search users or classes"
    />
  </div>

  <div 
    *ngIf="searchResults().length > 0" 
    class="absolute mt-3 w-full bg-gray-800 border border-gray-700 rounded-xl shadow-2xl max-h-72 overflow-y-auto z-50 transform transition-opacity duration-300 ease-in-out"
  >
    
    <div 
      *ngFor="let item of searchResults()" 
      class="p-4 flex justify-between items-center cursor-pointer hover:bg-gray-700 transition-colors duration-150 border-b border-gray-700 last:border-b-0"
    >
      <div class="flex-1 min-w-0 pr-4">
        <p class="text-white font-bold text-base truncate">{{ item.title }}</p>
        <p class="text-gray-400 text-sm truncate mt-0.5">{{ item.subTitle }}</p>

        <span 
          class="inline-block mt-2 text-xs font-semibold px-2.5 py-0.5 rounded-full"
          [ngClass]="{
            'bg-green-700 text-green-100': item.type === 'User',
            'bg-blue-700 text-blue-100': item.type === 'Class'
          }"
        >
          {{ item.type }}
        </span>
      </div>

      <button
        (click)="viewDetails(item.id, item.type); $event.stopPropagation()"
        class="flex-shrink-0 px-4 py-1.5 bg-blue-600 text-white font-semibold rounded-full 
               hover:bg-blue-500 transition-colors shadow-md"
      >
        View
      </button>
    </div>
  </div>
</div>