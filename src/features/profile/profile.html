<div class="flex justify-center pt-10 pb-10" appKeyboardNav>
  <div class="bg-[#1b2028] p-8 rounded-2xl w-full max-w-lg shadow-xl border border-white/10">

    <!-- Avatar -->
    <div class="flex justify-center mb-6">
      <img src="../../../assets/image/user.png" alt="avatar"
           class="w-28 h-28 rounded-full border-4 border-[#01acb4] shadow-lg" />
    </div>

    <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">

      <!-- Title -->
      <h2 class="text-3xl font-bold mb-6 text-center text-white tracking-wide"
          appSpeak="Edit Profile" tabindex="0">
        Edit Profile
      </h2>

      <!-- Full Name -->
      <div class="mb-5 flex flex-col">
        <label class="mb-1 font-medium text-[#cfd3d6]" appSpeak="Full Name" tabindex="0">Full Name</label>
        <div class="flex gap-2 items-center">
          <input formControlName="fullName" placeholder="Optional" tabindex="0"
                 appInputSpeak #fullNameInput
                 class="flex-1 p-3 rounded-lg border border-white/20 bg-[#272e38] text-white
                        focus:border-[#01acb4] focus:ring-2 focus:ring-[#01acb4]/40 focus:outline-none transition" />
          <button type="button" class="bg-[#01acb4] hover:bg-[#01939b] text-white px-3 py-2 rounded-lg shadow-md"
                  [appVoiceInput]="fullNameInput" tabindex="0" appSpeak="Start voice input for full name">
            ðŸŽ¤
          </button>
        </div>
      </div>

      <!-- Display Name -->
      <div class="mb-5 flex flex-col">
        <label class="mb-1 font-medium text-[#cfd3d6]" appSpeak="Display Name" tabindex="0">Display Name</label>
        <div class="flex gap-2 items-center">
          <input formControlName="displayName" placeholder="Optional" tabindex="0"
                 appInputSpeak #displayNameInput
                 class="flex-1 p-3 rounded-lg border border-white/20 bg-[#272e38] text-white
                        focus:border-[#01acb4] focus:ring-2 focus:ring-[#01acb4]/40 focus:outline-none transition" />
          <button type="button" class="bg-[#01acb4] hover:bg-[#01939b] text-white px-3 py-2 rounded-lg shadow-md"
                  [appVoiceInput]="displayNameInput" tabindex="0" appSpeak="Start voice input for display name">
            ðŸŽ¤
          </button>
        </div>
      </div>

      <!-- Username -->
      <div class="mb-6 flex flex-col">
        <label class="mb-1 font-medium text-[#cfd3d6]" appSpeak="Username" tabindex="0">Username</label>
        <div class="flex gap-2 items-center">
          <input formControlName="username" placeholder="Required" tabindex="0"
                 appInputSpeak #usernameInput
                 class="flex-1 p-3 rounded-lg border border-white/20 bg-[#272e38] text-white
                        focus:border-[#01acb4] focus:ring-2 focus:ring-[#01acb4]/40 focus:outline-none transition" />
          <button type="button" class="bg-[#01acb4] hover:bg-[#01939b] text-white px-3 py-2 rounded-lg shadow-md"
                  [appVoiceInput]="usernameInput" tabindex="0" appSpeak="Start voice input for username">
            ðŸŽ¤
          </button>
        </div>
        <div *ngIf="profileForm.get('username')?.touched && profileForm.get('username')?.errors?.['required']"
             class="text-red-400 text-sm mt-2">
          Username is required.
        </div>
      </div>

      <!-- Update Button -->
      <button type="submit"
              class="w-full bg-[#01acb4] hover:bg-[#01939b] text-white font-bold py-3 rounded-xl shadow-md transition"
              appSpeak="Update Profile" tabindex="0">
        Update
      </button>
    </form>

    <!-- Cancel Button -->
    <button (click)="cancel()"
            class="w-full py-3 mt-4 rounded-xl border border-white/20 text-white hover:bg-white/10 transition shadow-md"
            appSpeak="Cancel" tabindex="0">
      Cancel
    </button>

  </div>
</div>
