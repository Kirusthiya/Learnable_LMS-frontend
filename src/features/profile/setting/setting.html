<div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden font-body text-textlight" appKeyboardNav>
  <div>
    <div class="flex items-center p-4">
      <h2 class="flex-1 pr-10 text-center font-display text-x1 font-semibold text-textlight" appSpeak="Accessibility Settings" tabindex="0"
      >Accessibility Settings</h2>
    </div>
  </div>

  <main class="flex-1 space-y-6 px-4 pb-28">
    <section class="rounded-xl  border-gray-700/50 bg-inputbg p-5 shadow-lg">
      <h3 class="mb-4 font-display text-lg font-semibold text-primary" appSpeak="Change Text Vision" tabindex="0">Display & Vision</h3>

      <div>
        <p class="text-base font-medium" [appSpeak]="'text size ' + settings.textSize + ' pixels'" tabindex="0">Text Size: {{settings.textSize}}px</p>
        <input type="range" min="12" max="40" step="1" [value]="settings.textSize"
               (input)="settings.textSize = $any($event.target).value"
               class="h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-700 accent-primary" />
      </div>
    </section>

    <section class="rounded-xl border border-gray-700/50 bg-inputbg p-5 shadow-lg">
      <h3 class="mb-4 font-display text-lg font-semibold text-primary" appSpeak="Audio and Hearing" tabindex="0">Audio & Hearing</h3>

    
      <div class="pt-4">
        <p class="text-base font-medium" [appSpeak]="'voice speed ' + settings.voiceSpeed + ' times'" tabindex="0">Voice Speed: {{settings.voiceSpeed}}x</p>
        <input type="range" min="0.5" max="2.0" step="0.1" [value]="settings.voiceSpeed"
               (input)="settings.voiceSpeed = $any($event.target).value"
               class="h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-700 accent-primary" />
      </div>

      <div class="pt-4">
        <p class="text-base font-medium" [appSpeak]="'voice volume ' + (settings.voiceVolume | number:'1.1-2')" tabindex="0">Voice Volume: {{settings.voiceVolume | number:'1.1-2'}}</p>
        <input type="range" min="0" max="1" step="0.05" [value]="settings.voiceVolume"
               (input)="settings.voiceVolume = $any($event.target).value"
               class="h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-700 accent-primary" />
      </div>

      <div class="pt-4">
        <button type="button" (click)="previewVoice()" class="rounded-full bg-primary px-5 py-2 font-medium text-textlight transition hover:bg-opacity-90" appSpeak="Preview Voice" tabindex="0"
        >Preview Voice</button>
      </div>
    </section>

    <section class="rounded-xl border border-gray-700/50 bg-inputbg p-5 shadow-lg">
      <h3 class="mb-4 font-display text-lg font-semibold text-primary" appSpeak="Accessibility Mode" tabindex="0">Accessibility Mode</h3>

      <div class="flex gap-4">
        <label
          class="flex-1 cursor-pointer flex items-center justify-center gap-2 rounded-full border-2 p-3 text-sm font-medium transition duration-200" appSpeak="Blind Mode" tabindex="0"
          [ngClass]="{
            'border-primary bg-primary text-textlight shadow-md shadow-primary/50': settings.mode === 'blind',
            'border-gray-600 bg-background text-gray-400 hover:bg-gray-700/50': settings.mode !== 'blind'
          }">
          <span [ngClass]="{'text-white': settings.mode === 'blind', 'text-gray-500': settings.mode !== 'blind'}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="lucide lucide-eye-off"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"  appSpeak="blind mode" tabindex="0"/>
              <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c4.77 0 8.35 3.53 10 7-1.4 2.87-4.43 5.18-7.88 5.67"/>
              <path d="M2 12s2.08 4 6 4c.66 0 1.3-.06 1.93-.18"/><path d="M2 2l20 20"/></svg>
              
          </span>
          Blind
          <input type="radio" class="hidden" value="blind" [(ngModel)]="settings.mode" />
        </label>

        <label
          class="flex-1 cursor-pointer flex items-center justify-center gap-2 rounded-full border-2 p-3 text-sm font-medium transition duration-200" appSpeak="Deaf Mode" tabindex="0"
          [ngClass]="{
            'border-primary bg-primary text-textlight shadow-md shadow-primary/50': settings.mode === 'deaf',
            'border-gray-600 bg-background text-gray-400 hover:bg-gray-700/50': settings.mode !== 'deaf'
          }" appSpeak="Deaf Mode" tabindex="0">
          <span [ngClass]="{'text-white': settings.mode === 'deaf', 'text-gray-500': settings.mode !== 'deaf'}" appSpeak="deafmod" tabindex="0">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ear-off"><path d="M6 18c-3.3 0-6-2-6-6s3.3-6 6-6"/><path d="M11.667 9.873c1.693 0 2.222-1.334 2.222-2.667a4 4 0 0 0-4-4"/><path d="M15 8c2.2 0 4 .89 4 2s-1.8 2-4 2"/><path d="M22 10c0-2.2-1.8-4-4-4"/><path d="M2 2l20 20"/></svg>
          </span>
          Deaf
          <input type="radio" class="hidden" value="deaf" [(ngModel)]="settings.mode" />
        </label>
      </div>
    </section>


  </main>

  <div class="fixed inset-x-0 bottom-0 z-20 flex gap-4 border-t border-gray-700 bg-background/90 p-4 backdrop-blur-sm">
    <button (click)="applyChanges()" class="flex-1 rounded-full bg-primary py-3 font-semibold text-textlight transition hover:bg-opacity-90" appSpeak="Apply Changes" tabindex="0">
      Apply Changes
    </button>
    <button (click)="cancelChanges()" class="flex-1 rounded-full border-2 border-primary bg-inputbg py-3 font-semibold text-primary transition hover:bg-primary/20" appSpeak="Cancel" tabindex="0">
      Cancel
    </button>
  </div>
</div>