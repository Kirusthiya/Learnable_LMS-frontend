<div class="pt-12 flex flex-col items-center px-4 space-y-8" appKeyboardNav>

  <div class="w-full max-w-2xl space-y-6" appKeyboardNav>
    <h2 class="text-2xl font-bold text-center text-primary" 
        tabindex="0"
        (focus)="onFocus('Received join requests')">
        Received Join Requests
    </h2>
    <p class="text-gray-400 text-center" 
       tabindex="0"
       (focus)="onFocus('Action Required')">
       Action Required
    </p>

    @if (pendingRequests().length === 0) {
      <div class="text-gray-400 text-center" 
           tabindex="0"
           (focus)="onFocus('No pending join requests.')">
        No pending join requests.
      </div>
    }

    @for (request of pendingRequests(); track request.notificationId) {
      <div class="bg-gray-800 rounded-xl shadow-md p-4 space-y-2 focus:ring-2 focus:ring-blue-500 outline-none" 
           tabindex="0"
           (focus)="onFocus('Request from ' + request.senderName + ' to join class ' + request.className)">
        
        <p class="text-white font-medium">
          <span class="font-bold">{{ request.senderName }}</span> requests to join class 
          <span class="font-bold">{{ request.className }}</span>.
        </p>
        
        <div class="flex justify-end space-x-3">
          <button tabindex="0"
            (click)="handleApprove(request.notificationId)"
            (focus)="onFocus('Approve Request from ' + request.senderName)"
            class="px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg font-semibold transition-colors focus:ring-2 focus:ring-white outline-none">
            Approve
          </button>
          
          <button tabindex="0"
            (click)="handleReject(request.notificationId)"
            (focus)="onFocus('Reject Request from ' + request.senderName)"
            class="px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg font-semibold transition-colors focus:ring-2 focus:ring-white outline-none">
            Reject
          </button>
        </div>
      </div>
    }
  </div>
  
  <hr class="w-full max-w-2xl border-gray-700">
  
  <div class="w-full max-w-2xl space-y-6" appKeyboardNav>
    <h2 class="text-2xl font-bold text-center text-primary" 
        tabindex="0"
        (focus)="onFocus('Sent Join Requests Status')">
        Sent Join Requests Status
    </h2>
    <p class="text-gray-400 text-center" 
       tabindex="0"
       (focus)="onFocus('Status of your requests')">
       Status of your requests
    </p>

    @if (sentRequests().length === 0) {
      <div class="text-gray-400 text-center" 
           tabindex="0"
           (focus)="onFocus('You haven\'t sent any join requests yet.')">
        You haven't sent any join requests yet.
      </div>
    }
    
    @for (request of sentRequests(); track request.className) {
      <div tabindex="0"
           (focus)="onFocus('Request to join ' + request.className + '. Status: ' + request.status)"
           class="bg-gray-800 rounded-xl shadow-md p-4 flex justify-between items-center focus:ring-2 focus:ring-blue-500 outline-none">
        <p class="text-white font-medium">
          Request to join <span class="font-bold">{{ request.className }}</span>
        </p>
        <span [class]="getStatusClass(request.status)"
              class="px-3 py-1 rounded-full text-sm font-semibold">
          {{ request.status }}
        </span>
      </div>
    }
  </div>

  <button class="btn-secondary px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white transition focus:ring-2 focus:ring-white outline-none" 
          (click)="goBack()"
          (focus)="onFocus('Go Back button')"
          tabindex="0">
      ‚Üê Go Back
  </button>
    
</div>